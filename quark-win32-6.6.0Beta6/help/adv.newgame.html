<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
<head>
  <title>New Game Quickstart</title>
  <meta name="Description" content="QuArK Information Database - Page: 3.3.&nbsp;New Game Quickstart">
  <meta name="Keywords" content="QuArK InfoBase Quake Army Knife QRK QKM Python PY Map Editor Hexen Heretic Half-Life Sin Kingpin Soldier-of-Fortune Star-Trek-Voyager Elite-Force">
  <link rel=stylesheet href="standard.css" type="text/css">
</head>

<body>
<a name="__top__"></a>
<table width="100%" border=0 cellspacing=0>
  <tr>
    <td width=213>
      <a target="_blank" href="http://quark.sourceforge.net/"><img src="quarkicon.png" width=213 height=90 border=0 alt="Go to QuArK Web Site"></a>
    </td>
    <td width="70%" align=center>
      <div class="topheadline">New Game Quickstart</div>
      <div class="sm">Updated&nbsp;28 Apr 2009</div>
    </td>
    <td width="30%" valign=bottom nowrap>
      Upper&nbsp;levels:<br>-&nbsp;<a href="index.html">QuArK&nbsp;Information&nbsp;Base</a><br>-&nbsp;<a href="adv.html">3.&nbsp;Advanced&nbsp;customization</a><br>
    </td>
  </tr>
</table>
<table width="100%" border=0 cellspacing=0>
  <tr class="headline">
    <td width="99%">
      <p class="headline">&nbsp;3.3.&nbsp;New Game Quickstart</p>
    </td>
    <td width="1%" align=right nowrap>
      &nbsp;[&nbsp;<span class="navenable"><a href="adv.conversion.html">Prev</a></span>&nbsp;-&nbsp;<span class="navenable"><a href="adv.html">Up</a></span>&nbsp;-&nbsp;<span class="navenable"><a href="adv.addons.html">Next</a></span>&nbsp;]&nbsp;
    </td>
  </tr>
</table>
<table border=0 width="100%" cellspacing=10><tr><td><p>Here is a quick overview of how to support a new game; if the game uses
pretty much the same technology as one that QuArK already supports, this might
be enough, otherwise you might actually have to learn something about how
QuArK works.
</p><p>But first, before actually doing anything, post to the <a target="_blank" href="http://quark.sourceforge.net/forums/">QuArK forum</a>
and contact the QuArK development team to say what you want to do, in case
somebody is already doing it.
</p>
</td></tr></table>
<br>

<table width="100%" border=0 cellspacing=0>
  <tr class="headline">
    <td width="100%">
      <p class="subheadline">&nbsp;Index</p>
    </td>
  </tr>
</table>
<ul class="index">
  <li>- <a href="#delphi">Delphi coding</a>&nbsp;<span class="added">(28 Apr 2009)</span>
  <li>- <a href="#defaults">Defaults.qrk</a>&nbsp;<span class="added">(08 Oct 2008)</span>
  <li>- <a href="#gamedata">Game Data Addons</a>&nbsp;<span class="added">(08 Oct 2008)</span>
  <li>- <a href="#aftermath">Distribution and Aftermath</a>&nbsp;<span class="added">(08 Oct 2008)</span>
</ul>
<br>


<a name="delphi"></a>
  <table width="100%" border=0 cellspacing=0>
    <tr class="headline">
      <td>
        <p class="item">&nbsp;Delphi coding</p>
      </td>
      <td align=right>
        <font size=-2>tiglari&nbsp;-&nbsp;28 Apr 2009</font>
      </td>
      <td width="1%" align=right nowrap>
        &nbsp;&nbsp;[&nbsp;<a href="#__top__">Top</a>&nbsp;]&nbsp;
      </td>
    </tr>
  </table>
  <table border=0 width="100%" cellspacing=10><tr><td>
<p>At the minimum, there will have to be a gamecode for the game, defined
in the source file prog/Setup.pas.  Presently these are single-character
alphanumerics assigned on the basis of what kind of engine is used:
<UL>
<LI>1-9: Quake 1/HL</LI>
<LI>A-Z: Quake 2</LI>
<LI>a-z: Quake 3 &amp; other advanced</LI>
</UL>
A complete list of the gamecodes that have been checked out thus far is
given in the GameCodeList.txt file located in QuArK's main runtime
folder.  As people use these codes this text file should be updated and
committed to the CVS archives to maintain control and avoid confutation.
</p><p>Engines that do use shaders and might acquire curves should go into the
last range (Quake 3 &amp; other advanced).
</p><p>If the game has technology similar to one already supported by QuArK, then
this may well be all that's necessary in the Delphi code, and one of the
current Delphi coders will be able to do it for you.  Otherwise there may
need to be coding for texture-display, model-viewing, terrain editing etc.,
and you might have to do some or even most of it yourself.
</p>
  </td></tr></table>
  <br>

<a name="defaults"></a>
  <table width="100%" border=0 cellspacing=0>
    <tr class="headline">
      <td>
        <p class="item">&nbsp;Defaults.qrk</p>
      </td>
      <td align=right>
        <font size=-2>tiglari&nbsp;-&nbsp;08 Oct 2008</font>
      </td>
      <td width="1%" align=right nowrap>
        &nbsp;&nbsp;[&nbsp;<a href="#__top__">Top</a>&nbsp;]&nbsp;
      </td>
    </tr>
  </table>
  <table border=0 width="100%" cellspacing=10><tr><td>
<p>Then the game will need a &nbsp;<tt>:config</tt>&nbsp; and &nbsp;<tt>:form</tt>&nbsp; section in the file Defaults.qrk,
grouped (preferably alphabetically) with the &nbsp;<tt>:config</tt>&nbsp; and &nbsp;<tt>:form</tt>&nbsp; sections for
the games already supported.  People usually copy the ones for the game that is most similar
to the new one, and then change whatever needs to be changed.
You should pick a recognizable abbreviation and use it consistently,
e.g. SoF2 for Soldier of Fortune 2.
</p><p>Also, the game needs to be added to the &quot;&nbsp;<tt>QuakeCtx:form</tt>&nbsp;-group &nbsp;<tt>Game</tt>&nbsp;-sub-group &nbsp;<tt>Items</tt>&nbsp;-variable&quot; list (in Defaults.qrk).
</p>
  </td></tr></table>
  <br>

<a name="gamedata"></a>
  <table width="100%" border=0 cellspacing=0>
    <tr class="headline">
      <td>
        <p class="item">&nbsp;Game Data Addons</p>
      </td>
      <td align=right>
        <font size=-2>tiglari&nbsp;-&nbsp;08 Oct 2008</font>
      </td>
      <td width="1%" align=right nowrap>
        &nbsp;&nbsp;[&nbsp;<a href="#__top__">Top</a>&nbsp;]&nbsp;
      </td>
    </tr>
  </table>
  <table border=0 width="100%" cellspacing=10><tr><td>
<p>Finally you need to make addons for the game data.  There are several
of these:
</p><p><table border=1 cellspacing=0 cellpadding=4>
</p><p><tr><td>
DataXXX.qrk
</td><td>
Where XXX is your game's <b>abbreviated</b> name. This file contains the main info about the game, like some settings and the default room.
</td></tr>
</p><p><tr><td>
XXXEntities.qrk<br>
XXXMaterials.qrk<br>
XXXModels.qrk<br>
XXXShaders.qrk<br>
XXXScripts.qrk<br>
XXXSounds.qrk<br>
XXXTextures.qrk<br>
</td><td>
Where XXX is the full game name. These files contain the main data about the game.<br>
Note: not all files are needed for all games.
</td></tr>
</p><p><tr><td>
UserData XXX.qrk
</td><td>
Where XXX is the full game name. This files contains some additional settings for QuArK for this game, like pre-fab object that can be dropped into the map, and the default settings for the build-menu.
</td></tr>
</p><p></table>
</p><p>The easiest way to make these is by copying ones from a similar game, and then
adding/changing things to suit (the game abbreviation for starters).
</p><p>A workable texture toolbox for SoF2 is:
<div class="doccode"><pre>
  Textures.qtx =
  {
    Toolbox = &quot;Texture Browser...&quot;
    Root = &quot;SoF2 Textures.qtxfolder&quot;
    SoF2 Textures.qtxfolder =
    {
      Textures and Shaders.osfolder =
      {
        path = &quot;base&quot;
      }
    }
  }
</pre></div>
This will load up textures dynamically from the <a href="glossary.html#fileext">.PK3</a> folders. For
better performance, you can use the 'make texture links' button in the texture
toolbox and check 'static' to produce a list of the textures in the .PK3's.
</p><p><ul><u>
<li>Access of Mod &amp; Custom Textures
</u><br>
</ul>
</p><p>Another way of setting up access to textures for Mods and Custom Textures
is to set the &quot;path&quot; to that specific Mod folder and use the blanket
command name &quot;build&quot; with a value of &quot;1&quot; setting as shown in the example
below for the Mod &quot;ET&quot;, a Quake 3 base game:
<div class="doccode"><pre>
{
  Description = &quot;Enemy Terror Add-on&quot;
  Game Context.qctx =
  {
    Game = &quot;Quake 3&quot;
    SourceDir = &quot;ET&quot;
    GameDir = &quot;baseq3&quot;
  }
  Textures.qtx =
  {
    ToolBox = &quot;Texture Browser...&quot;
    Root = &quot;ET (Enemy Terror).qtxfolder&quot;
    ET (Enemy Terror).qtxfolder =
    {
      ET Textures &amp; Shaders.osfolder =
      {
        path = &quot;ET&quot;
        build = &quot;1&quot;
      }
    }
  }
}
</pre></div>
Basically what this does is tell QuArK to search the given path folder for
all texture folders and files in all .pak files, no matter what their name
is, and folders that have been named &quot;textures&quot; and, if the game supports
them, &quot;scripts&quot; which are shader texture files like the ones used in Quake 3.
</p><p>In addition, any custom textures and shader files will also be included
that are placed in the &quot;textures&quot; and &quot;scripts&quot; folders or in their own
sub-folder placed in these folders, with any name you wish to give them.
These custom sub-folders can also have sub-folder within them as well for
a better grouping of files. All of the folders will then be grouped in the
<a href="intro.texturebrowser.overview.html">Texture Browser</a> under the
caption &quot;Directories&quot; and will be displayed by their individual folder and
sub-folder names.
</p>
<p>For entities, if the game has a <a href="glossary.html#fileext">.DEF</a> or <a href="glossary.html#fileext">.FGD</a> file, you can use the
<span class="act">'File -&gt; Convert from'</span> facility from the QuArK-Explorer main menu, to produce a basic entity toolbox entry
which in the case of SoF2 might start look like this:
<div class="doccode"><pre>
  SoF2Entities.qtx =
  {
    ToolBox = &quot;New map items...&quot;
    Root = &quot;SoF2 Entities.qtxfolder&quot;
    SoF2 Entities.qtxfolder =
    {
      ;desc = &quot;Created from entities.def&quot;
      func_* entities.qtxfolder =
      .
      .
    }
  }
</pre></div>
Whatever you get should be substituted for the entity toolbox folder in
the file you're copying from, and later edited by hand to add missing entities,
improve help, etc.
</p><p>More info about the converters and their options can be found here: <a href="adv.conversion.html">'QuArK Conversion Tools'</a>
</p>
  </td></tr></table>
  <br>

<a name="aftermath"></a>
  <table width="100%" border=0 cellspacing=0>
    <tr class="headline">
      <td>
        <p class="item">&nbsp;Distribution and Aftermath</p>
      </td>
      <td align=right>
        <font size=-2>tiglari&nbsp;-&nbsp;08 Oct 2008</font>
      </td>
      <td width="1%" align=right nowrap>
        &nbsp;&nbsp;[&nbsp;<a href="#__top__">Top</a>&nbsp;]&nbsp;
      </td>
    </tr>
  </table>
  <table border=0 width="100%" cellspacing=10><tr><td>
<p>Once things get into a useable state, or possibly even before,
somebody with SourceForge access should start committing your stuff to
the repository, and it will begin to appear in snapshots.
</p><p>By `aftermath' I mean that if you initiate QuArK support for a game,
people will tend to expect you to fix bugs in the game data, etc., and
there always are some, so this can drag on for a while.  People will
also expect you to be able to answer basic questions about the peculiarities
of editing the game. Also, if a converter was used: often the definition file
is not up to date at all, so a lot of things might turn up later that have to
be added to the addons by hand...
</p>
  </td></tr></table>
  <br>

<br>

<table width="100%" border=0 cellspacing=0>
  <tr class="headline">
    <td width="99%" align=center>
      <p class="sm">
        Copyright (c) 2009, GNU General Public License by The QuArK (Quake Army Knife) Community - <a target="_blank" href="http://quark.sourceforge.net/">http://quark.sourceforge.net/</a><br>
      </p>
    </td>
    <td width="1%" align=right nowrap>
      &nbsp;[&nbsp;<span class="navenable"><a href="adv.conversion.html">Prev</a></span>&nbsp;-&nbsp;<a href="#__top__">Top</a>&nbsp;-&nbsp;<span class="navenable"><a href="adv.addons.html">Next</a></span>&nbsp;]&nbsp;
    </td>
  </tr>
</table>
</body>
</html>