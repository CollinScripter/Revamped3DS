<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
<head>
  <title>RTCW</title>
  <meta name="Description" content="QuArK Information Database - Page: 1.3.2.1.4.&nbsp;RTCW">
  <meta name="Keywords" content="QuArK InfoBase Quake Army Knife QRK QKM Python PY Map Editor Hexen Heretic Half-Life Sin Kingpin Soldier-of-Fortune Star-Trek-Voyager Elite-Force">
  <link rel=stylesheet href="standard.css" type="text/css">
</head>

<body>
<a name="__top__"></a>
<table width="100%" border=0 cellspacing=0>
  <tr>
    <td width=213>
      <a target="_blank" href="http://quark.sourceforge.net/"><img src="quarkicon.png" width=213 height=90 border=0 alt="Go to QuArK Web Site"></a>
    </td>
    <td width="70%" align=center>
      <div class="topheadline">RTCW</div>
      <div class="sm">Updated&nbsp;25 Jul 2009</div>
    </td>
    <td width="30%" valign=bottom nowrap>
      Upper&nbsp;levels:<br>-&nbsp;<a href="index.html">QuArK&nbsp;Information&nbsp;Base</a><br>-&nbsp;<a href="intro.html">1.&nbsp;Introduction&nbsp;to&nbsp;QuArK</a><br>-&nbsp;<a href="intro.configuration.html">1.3.&nbsp;Configuration&nbsp;of&nbsp;QuArK</a><br>-&nbsp;<a href="intro.configuration.games.html">1.3.2.&nbsp;Games</a><br>-&nbsp;<a href="intro.configuration.games.specificgames.html">1.3.2.1.&nbsp;Specific&nbsp;games</a><br>
    </td>
  </tr>
</table>
<table width="100%" border=0 cellspacing=0>
  <tr class="headline">
    <td width="99%">
      <p class="headline">&nbsp;1.3.2.1.4.&nbsp;RTCW</p>
    </td>
    <td width="1%" align=right nowrap>
      &nbsp;[&nbsp;<span class="navenable"><a href="intro.configuration.games.specificgames.quake4.html">Prev</a></span>&nbsp;-&nbsp;<span class="navenable"><a href="intro.configuration.games.specificgames.html">Up</a></span>&nbsp;-&nbsp;<span class="navenable"><a href="intro.configuration.games.specificgames.rtcw-et.html">Next</a></span>&nbsp;]&nbsp;
    </td>
  </tr>
</table>
<table border=0 width="100%" cellspacing=10><tr><td>


</td></tr></table>
<br>

<table width="100%" border=0 cellspacing=0>
  <tr class="headline">
    <td width="100%">
      <p class="subheadline">&nbsp;Index</p>
    </td>
  </tr>
</table>
<ul class="index">
  <li>- <a href="#config">Configuration</a>&nbsp;<span class="added">(25 Jul 2009)</span>
  <li>- <a href="#sounds">Sound Editing</a>&nbsp;<span class="added">(08 Oct 2008)</span>
  <li>- <a href="#misc">Misc. Info.</a>&nbsp;<span class="added">(21 Jun 2006)</span>
</ul>
<br>


<a name="config"></a>
  <table width="100%" border=0 cellspacing=0>
    <tr class="headline">
      <td>
        <p class="item">&nbsp;Configuration</p>
      </td>
      <td align=right>
        <font size=-2>cdunde&nbsp;-&nbsp;25 Jul 2009</font>
      </td>
      <td width="1%" align=right nowrap>
        &nbsp;&nbsp;[&nbsp;<a href="#__top__">Top</a>&nbsp;]&nbsp;
      </td>
    </tr>
  </table>
  <table border=0 width="100%" cellspacing=10><tr><td>
<p>In this short tutorial I will be showing you how to quickly setup Quark to compile and
run maps for the Return to Castle Wolfenstein or RTCW game engine. This particular games
configuration is a bit more involved than most because it actually deals with two different
compiler programs. Because of this, we have strived to preset as much of this as possible
and even have included one of the compiling programs and its related files in its own folder
located in the RTCW addons folder. But I will cover that in more detail a little bit later.
</p><p><table border=0 cellspacing=0>
<tr><td valign=top align=left>
</p><p><b>Part 1 – Setting up QuArK to work with RTCW</b>
</p><p>In this section we will quickly go over how to setup Quark to work with RTCW.
To start with load up Quark, you should be greeted with the 'Quark Explorer' panel.
The Quark Explorer allows you to define which game environment you wish to work in,
as well as doing many other things.
</p><p>First we need to select the game we want to map for. We do this by simply going
to the 'Games' button located on the top right of the Explorer panel, once pressed it
will present you with a drop list of all the currently available games, select
RTCW as shown in the screen shot to the right.
</p><p>Next we need to setup Quark to work with the RTCW game engine, which is actually a variation
of the Quake 3 engine. To do so go back to the 'Games' button and press the 'Configuration'
button at the bottom of the list. 
</p><p>Once selected a new window will be opened called 'Configuration', making sure you have
RTCW selected on the left navigation panel, (under the Games Tab) as we now need
to fill out some of the necessary game settings on the right of the Configuration panel which
is shown in the configuration image further down.
</p><p>But before we do that, go to your QuArK &gt; addons &gt; RTCW folder, copy the <b>QuArK files</b>
folder that is there and paste it into your <b>Return to Castle Wolfenstein game folder</b>
as shown to the right here. In the <b>QuArK files</b> folder is a sub-folder called <b>bspc</b>.
In that folder is <b>one</b> of the compiling programs I spoke about briefly above and its related
files.
</p><p>The other folder shown below that is the <b>second</b> compiling program folder and
its files. You will need to download the <a href="http://quark.planetquake.gamespy.com/download_gamepaks.php3">q3map_2.5.16_win32_x86.zip</a>
file from the Official QuArK site.
</p><p>Also, see the <a href="intro.configuration.games.specificgames.rtcw.html#misc">Misc. Info.</a>
section below for more detailed instructions on its installation.
</p><p></td>
<td>
<img border=1 valign=top align=right src="intro.configuration.games.specificgames.rtcw.rtcw_config1.png"><br>
</td></tr>
</table>
<table border=0 cellspacing=0>
<tr><td valign=top align=left>
<b>Part 2 – QuArK game pack download</b>
</p><p>This is the QuArK RTCW game support package. Download the <a href="http://quark.planetquake.gamespy.com/download_gamepaks.php3">QuArK_RTCW.zip</a>
file and extract it, using the folders path option, to the game folder location where you have RTCW installed on your computer.
</p><p>All the paths to the &quot;Main&quot; sub-folder have already been set in the zip file.
The zip file is about 64.7 MB and will take around 2 minutes with cable or DSL.
</p><p>This package has been created to work with QuArK 6.5.0 alpha 8 or later and will give the most complete
support available.
</p><p>Every effort has been made working through the RTCW game files and other sources to allow the viewing
of all available textures in <a href="intro.texturebrowser.overview.html">QuArK's Texture Browser</a>,
all game models viewable in the 3D editor Texture views and detail entity settings with the use of
pre-defined dropdown list, model selection and variations list, file selection capabilities for models
and sounds, as well as 'color pickers' for all lighting functions. Even a few 'script\shader' corrections.
</p><p></td>
<td>
<img border=1 valign=top align=right src="intro.configuration.games.specificgames.rtcw.rtcw_config4.png">
</td></tr>
</table>
<table border=0 cellspacing=0>
<tr><td valign=top align=left>
<b>Part 3 – QuArK RTCW Configuration settings</b>
</p><p>As you can see in the image below, most of the settings have already been set with a default
entry. While others have been pre-coded in
QuArK's Defaults.qrk file that you can not see. This will prove to make life a lot easyer
when you go to build and run your maps in RTCW.
</p><p><i><u>RTCW command-line</u></i>&nbsp;: Even though this is pre-set for you, I wanted to explain
exactly what the added items are that follow the WOLFSP.EXE entry, the entire line is:
</p><p><ul>wolfsp.exe  +set sv_cheats 1 +set fs_homepath main +set fs_game tmpQuArK +set nextmap
&quot;spdevmap %filename%&quot; +exec
</p><p><li>(two spaces)<b>+set sv_cheats 1</b> lets you use the game console (by pressing the ~ Tilde key)
developer commands like /noclip, /god and /give all.
<li><b>+set fs_homepath main</b> gives the path to the <b>Main</b> game sub-folder in the RTCW folder,
where the .pak files are.
<li><b>+set fs_game tmpQuArK</b> a second <b>tmpQuArK</b> sub-folder will be created in the above
<b>Main</b> folder, this sets it as a mod folder.
<li><b>+set nextmap &quot;spdevmap %filename%&quot;</b> this sets your map <b>%filename%</b>
(a variable that holds your map's name) as the map to load into the game.
<li><b>+exec</b> this executes these commands and starts the game engine.
</ul>
</p><p>A couple of special points here:<br>
If the intro-movie should start playing, just click your <a href="glossary.html#l">LMB</a> once to bypass it and go right into
loading your map.<br>
If you want to reload your map, press the Esc key, click on &quot;Load&quot; &gt; &quot;Show Autosaves...&quot; &gt; your map name &gt; &quot;Load&quot;.
This does not rebuild the map, just restarts it.
</p><p><i><u>Directory of RTCW</u></i>&nbsp;: If this does not match your RTCW folder location, use the <b>...</b> button to select your RTCW folder.
</p><p><i><u>RTCW CD_ROM drive</u></i>&nbsp;: This is the location of the game cd if you need to operate it from there, just click on the ... button to select the cd drive.
</p><p><i><u>Run these build-programs...</u></i>&nbsp;: This allows the display of the building, compiling, process in QuArK's console.
</p><p><i><u>Default directory of build-programs</u></i>&nbsp;: Because there are actually two programs involved for compiling, we use this path for the first one, the bspc tool location.
</p><p><i><u>Run tools from base directory</u></i>&nbsp;: Do not check this box unless you plan to put both build programs in the same folder and set its folder path above.
</p><p><i><u>Output Map Format</u></i>&nbsp;: The default setting for &quot;Brush Primitives&quot; should be correct here. If not there are other options you can choose from or just type in your own.
</p><p><i><u>1st through 3rd program</u></i>&nbsp;: This are pretty self explanatory, just make sure the &quot;q3map2.exe&quot; is set to the correct path for you. If not just use the ... button to select the file.
</td></tr>
</table>
</p><p><table width=100% cellspacing=0>
<tr><td valign=top align=middle>
<img border=1  align=middle src="intro.configuration.games.specificgames.rtcw.rtcw_config2.png">
</td></tr></table>
</p><p><i><u>4th and 5th program</u></i>&nbsp;: Again, self explanatory, just make sure the &quot;BSPC.EXE&quot; path is set correctly, which was done above for the <i>Default directory of build-programs</i>&nbsp;.
</p><p><i><u>6th program</u></i>&nbsp;: The &quot;Rename.bat&quot; file (also in your bspc folder) is needed to correct a file naming error inherent with the &quot;BSPC.EXE&quot; program.
</p><p>After you have finished setting Quark to work with the RTCW engine, simply hit the 'Apply'
button, and then press the 'OK' button to close the Configuration panel. This will put you
back in the Quark Explorer. Now is also a good time to close QuArK completely, this will
save your settings in the Setup.qrk file. You're done!
</p><p><b>Part 4 – Compiling</b>
</p><p>When you are ready to compile your map, simply select the &quot;Go ![textures+build+Rctw]&quot;
main menu item, which is a &quot;Full&quot; build, meaning for, textures, their script files, AAS files (for bots)
and lighting. This will cause QuArK to export the map file to your RTCW\tmpQuArK\maps
folder, texture files to the textures folder and script files to the scripts folder. If any of the
folders do not exist then QuArK will create them. Once that is done, QuArK will then start up the two
building programs and the bat file to complete the process of compiling the map file and build the rest
of the files needed to run in RTCW. Some of these additional game files will be placed in a second folder
with the same name &quot;tmpQuArK&quot; but that folder will be in the RTCW &quot;Main&quot; game directory folder.
Then the game will be started to load your map and display it !
</p><p><table border=0 cellspacing=0 align=middle>
<tr><td valign=top align=middle>
<img border=1 valign=top align=middle src="intro.configuration.games.specificgames.rtcw.rtcw_config3.png">
</td></tr>
</p><p><tr><td><br>
The rest of the RTCW menu items are variations of the &quot;Full&quot; build process to expedite the compiling
and in game viewing time when a &quot;Full&quot; build is not needed.
</p><p>Because you have already completed the configuration steps above you will be able to see
your map in QuArK's Textured 3D view. Even that part is automatically done for you. Just
place your mouse cursor over that view, click your <a href="glossary.html#r">RMB</a> and select &quot;Textured&quot; from
the pop-up menu. Just a few more minor but important pointers in the
<a href="intro.configuration.games.specificgames.rtcw.html#misc">Misc. Info.</a>
section below and you're good to go.
</td></tr>
</table>
</p>
  </td></tr></table>
  <br>

<a name="sounds"></a>
  <table width="100%" border=0 cellspacing=0>
    <tr class="headline">
      <td>
        <p class="item">&nbsp;Sound Editing</p>
      </td>
      <td align=right>
        <font size=-2>cdunde&nbsp;-&nbsp;08 Oct 2008</font>
      </td>
      <td width="1%" align=right nowrap>
        &nbsp;&nbsp;[&nbsp;<a href="#__top__">Top</a>&nbsp;]&nbsp;
      </td>
    </tr>
  </table>
  <table border=0 width="100%" cellspacing=10><tr><td>
<p><table border=0 cellspacing=0>
<tr><td valign=top align=left>
There are various ways in QuArK to deal with sound editing by using .wav files. But because all
of these files are stored in the games .pak files, they can not be used directly in QuArK. So in
that case their path and full file name would need to be typed in where needed by hand.
This is not only cumbersome but leaves a lot of room for errors. Because of this, we have setup
&quot;sound file selectors&quot; where they are needed in the DataRTCW.qrk file for various entities when
they use sound input settings. The only requirement to use this feature is that the &quot;sound&quot; folder
needs to be extracted from the games .pak files.
</p><p><b>Extracting .pak files &amp; their placement</b>
</p><p>The games .pak files are nothing more than a type of .zip compression file and can easily be accessed
to extract individual files or entire folders by either using a program that can extract ZIP files,
<a href="http://quark.planetquake.gamespy.com/download_tools.php3">PakScape v0.11</a> (my personal
favorite) or any other archive program.
</p><p>Once you have opened the .pak file, select the &quot;sound&quot; folder and drag it into your RTCW &quot;Main&quot; folder.
You can now go to that &quot;sound&quot; folder by simply clicking on the &quot;sound file selectors&quot; button that looks
like this ... and just select that sound.wav file that you want to use for any entity that has a selector.
</p><p><b>Custom Sounds and Functions</b>
</p><p>By having the &quot;sound&quot; folder extracted and placed, as described above, you can now place any .wav file
in that folder and select it for sound editing use. There is one important criteria though. The name of the
.wav file must NOT have any blank spaces in its name or it will not be located and played in the game.
You can, however, use lower dashes _ instead of spaces to separate words in its name.
</p><p>If you wish to distribute any custom sound files with your map, just create a .pak file
(using any ZIP-capible program and then renaming the ZIP-file to .pk3 or
<a href="http://quark.planetquake.gamespy.com/download_tools.php3">PakScape v0.11</a>) and place a folder
called &quot;sound&quot; in it with your custom.wav files located in that folder.
</p><p>When using a &quot;sound file selector&quot;, there are couple of nice functions that are available to you by clicking
your <a href="glossary.html#r">RMB</a> while you have your mouse cursor over a particular .wav file. This will bring up a standard
system pop-up menu where you can select to either <b>Play</b> it before you actually select it (very handy), <b>Rename</b>
it, change it's <b>Properties</b> or even <b>Delete</b> it, among other things.
</p><p>Once a .wav file has been selected, QuArK will automatically trim its path and make other necessary changes
so that the sound will now play properly in the game.
</p><p><b>If a Sound Does Not Play</b>
</p><p>There is ONE exception to the rule here that I have found only with the &quot;worldspawn&quot; entity sound setting which will
NOT play when your map is first loaded into the game after a build. If that should be the case for ANY sound
file, the first thing you want to try is reloading your map while still in the game.
</p><p>To do this just press the <b>Esc</b> key to bring up the game menu then select Load &gt; Show Autosaves &gt; your map
 &gt; Load and it should solve the problem when your map reloads. If that does not work, then something else is
causing this issue such as improper format <b>Properties</b> of the .wav file itself, which you can check
by comparing those to another .wav file that does play and changing it to that type of format,
using the <a href="glossary.html#r">RMB</a> method I described above. That pretty well covers it for sound editing.
</td></tr>
</table>
</p>
  </td></tr></table>
  <br>

<a name="misc"></a>
  <table width="100%" border=0 cellspacing=0>
    <tr class="headline">
      <td>
        <p class="item">&nbsp;Misc. Info.</p>
      </td>
      <td align=right>
        <font size=-2>cdunde&nbsp;-&nbsp;21 Jun 2006</font>
      </td>
      <td width="1%" align=right nowrap>
        &nbsp;&nbsp;[&nbsp;<a href="#__top__">Top</a>&nbsp;]&nbsp;
      </td>
    </tr>
  </table>
  <table border=0 width="100%" cellspacing=10><tr><td>
<p><table border=0 cellspacing=0>
<tr><td valign=top align=left>
<b>Installing the q3map_2.5.16_win32_x86 build tool</b>
</p><p>When you install this program you will need to direct it to the
<a href="intro.configuration.games.specificgames.rtcw.html#config">QuArK files</a> folder as shown
earlier in the <a href="intro.configuration.games.specificgames.rtcw.html#config">Configuration section</a>.
That is really all you need to verify.
</p><p><b>Changing and re-running a map</b>
</p><p>Normally, I run RTCW in a separate window, instead of its &quot;Full Screen&quot; mode when working on
a map, for a couple of reasons.<br>
First it's a lot easer to see around to view something in the
editor that you might be concentrating on with your work.<br>
The other is being able to jump back
and forth between the editor and the game running by simply holding down the Alt key and
pressing the Tab key to switch.<br>
It seems less confusing that way.
</p><p>Unfortunately it does not have the ability to make changes in your map while the game is still running
and then rebuild and reload the map.<br>
To do this you will need to close the game and go through the normal process once again.<br>
But basically all you need to do is just click the QuArK menu item and off you go.
</p><p>To close the game, press the Esc key and select &quot;Exit&quot; from its menu.
</p><p><b>Custom textures or models not showing Textures</b>
</p><p>Open the model .mdc or md3 file with a text editor such as NotePad or WordPad,
Do a search for &quot;tga&quot; to find the textures that the model uses, you will see the full path.
Extract those textures and make new folders, with the exact same name and additional
sub-folder(s), in your &quot;Main&quot; folder and place them in those folders.
</p><p>Or you can just extract the entire &quot;textures&quot; folder from the .pak file and place that,
with all the textures, inside the &quot;Main&quot; folder. BUT...if you use this method it could
over write some of the QuArK_RTCW support textures image files. So it would be a good
idea to re-install those afterwards, just to be sure everything is the way it should be.
</p><p>This will also add those textures to the QuArK Texture Browser causing them to show up twice.
The original ones are most likely &quot;shaders&quot; but the new ones will only be &quot;standard&quot; textures.
</p><p>If a model is not displaying all of its &quot;skin&quot; textures and the texture image file (.tga or .jpg)
is already in the proper folder location then it is very likely that it is a &quot;script\shader&quot;
type of texture. Use its full path and name but without its suffix (.tga or .jpg) and do a
search for it in the &quot;scripts&quot; folder and .pak files. Once you have located it look to see if
it has a code line something like this:
</p><p>	rgbGen lightingdiffuse
</p><p>If it does then that could be causing the problem. Copy that entire section of that shader code
that starts with the full path and name along with, and including, the starting &quot;left curly
bracket&quot; { and ending with the &quot;right curly bracket&quot; } and add it to the quarkcharacters.shader
file in the &quot;scripts&quot; folder in your &quot;Main&quot; RTCW directory. Then comment that line out like this:
</p><p>   // rgbGen lightingdiffuse
</p><p>This will turn off that particular code function and the model skin texture should now show up.
</p><p><b>Texture Loading Game Error</b>
</p><p>It has come to our attention while setting up the QuArK_RTCW.zip file that there is at least
one texture in the original RTCW pak0.pk3 file (textures\common\blackish.jpg) that causes RTCW
to give an error in the game console that says:
</p><p>Error: LoadTGA: Only type 2 (RGB), 3 (gray), and 10 (RGB) TGA images supported
</p><p>and stops the game map from loading. The texture file itself is not bad, but for some unknown
reason when this texture is used in QuArK and is opened in an &quot;external editor&quot;, like PaintShopPro,
it shows as a .pcx file and not a .jpg uncompressed file. When it is exported for the map file
by QuArK, it is created as a .tga file, which is not the case at all, and causes this error.
</p><p>So if you should receive this game error message this is what you should do.
Clear out your &quot;tmpQuArK\textures&quot; folder, have QuArK &quot;Prepare all textures and scripts&quot;, which is
on the RTCW main menu in QuArK, then open each .tga and .jpg texture in the textures folder directly
into PSP or Photo Shop. You are looking for two things:
</p><p>1) That is IS a valid .jpg or .tga file.
</p><p>2) And, that it is NOT a &quot;compressed&quot; image file.
   RTCW will give the same error is one is.
</p><p>Once you find the offending file(s), create an uncompressed .tga file of it and place that new file
in a folder called &quot;textures&quot; in your RTCW\Main folder. That will solve all the problems for both
QuArK and RTCW, allowing you to continue to use that texture in the future.
Please notify us so we can make the same correction.
</p>
<p><b>Other Comments</b>
</p><p>Some entities and\or models do not work properly or at all. These are erroneous items that were not
done correctly by other parties and is not a bug with QuArK. However, other entities may not have
been fully understood as to their proper needs and settings which could be an item to bring to our
attention for correction.
</td></tr>
</table>
</p>
  </td></tr></table>
  <br>

<br>

<table width="100%" border=0 cellspacing=0>
  <tr class="headline">
    <td width="99%" align=center>
      <p class="sm">
        Copyright (c) 2009, GNU General Public License by The QuArK (Quake Army Knife) Community - <a target="_blank" href="http://quark.sourceforge.net/">http://quark.sourceforge.net/</a><br>
      </p>
    </td>
    <td width="1%" align=right nowrap>
      &nbsp;[&nbsp;<span class="navenable"><a href="intro.configuration.games.specificgames.quake4.html">Prev</a></span>&nbsp;-&nbsp;<a href="#__top__">Top</a>&nbsp;-&nbsp;<span class="navenable"><a href="intro.configuration.games.specificgames.rtcw-et.html">Next</a></span>&nbsp;]&nbsp;
    </td>
  </tr>
</table>
</body>
</html>